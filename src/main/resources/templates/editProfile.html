<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
		xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" />
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <!-- MDB -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.3.0/mdb.min.css" rel="stylesheet" />
    <!-- custom css -->
    <link rel="stylesheet" th:href="@{/Assets/Css/main.css}">
    <title>Edit Profile</title>
</head>
<body>

	<div class="container contact-form form-bg">
        <div class="contact-image">
            <img src="https://image.ibb.co/kUagtU/rocket_contact.png" alt="rocket_contact" />
        </div>
        <form th:action="@{/updateProfile/{userId}(userId=${user.id})}" th:object="${user}" method="post" enctype="multipart/form-data" name="editProfileForm">
			<h3 class="tt-add">Edit Profile</h3>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group py-2">
                        <label for="userName" class="mb-3">User Name :</label>
                        <input class="my-blocks form-control" type="text"  name="userName" id="userName" th:field="*{userName}" />
                    </div>
                    <div class="form-group  py-2">
                        <label for="prenom" class="mb-3">First name :</label>
                        <input class="my-blocks form-control" type="text" name="prenom" id="prenom" th:field="*{prenom}"  />
                    </div>
                     <div class="form-group  py-2">
                        <label for="nom" class="mb-3">Last name :</label>
                        <input class="my-blocks form-control" type="text" name="nom" id="nom" th:field="*{nom}"  />
                    </div>
                     <div class="form-group  py-2">
                        <label for="email" class="mb-3" >Email :</label>
                        <input class="my-blocks form-control" type="email" name="email" id="email" th:field="*{email}"  />
                    </div>
 						<div class="form-group  py-2">
                        <label for="email" class="mb-3" >Gender :</label>
                     
                    </div>
                   <div class="d-flex py-2">                   
                    
                   <div class="form-check mx-4">
                
						<input  type="radio" id="male" value="true" checked name="radio" th:field="*{male}"class="form-check-input">
						<label class="form-check-label" style="color: #F6F7FF;">Male</label>
                   </div>
					<div class="form-check">
					<input  type="radio" id="female" value="false" name="radio" th:field="*{male}" class="form-check-input">
						<label class="form-check-label"style="color: #F6F7FF;">Female</label>
					</div>	
						
                   </div>
				
                   
                    <div class="form-group  py-2">
                        <label for="email" class="mb-3">Phone :</label>
                        <input class="my-blocks form-control" type="number" name="phone" id="phone" placeholder="(+216)" th:field="*{phone}"  />
                    </div>
                   
                   <div class="form-group  py-2">
                        <label for="email" class="mb-3">Adresse :</label>
                        <input class="my-blocks form-control" type="text" name="adresse" id="adresse" placeholder="adresse" th:field="*{adresse}"  />
                    </div>
                   
                   <div class="form-group  py-2">
                        <label for="email" class="mb-3">Current Post :</label>
                        <input class="my-blocks form-control" type="text" name="currentPost" id="currentPost" placeholder="current Post" th:field="*{currentPost}"  />
                    </div>
                   
                   <!-- Button trigger modal -->
					<button type="button" class="btn btn-primary my-popup-btn-3" data-bs-toggle="modal" data-bs-target="#exampleModal" style="margin:7%;margin-left:40%;">
					  Change password ?
					</button>
					
					<!-- Modal -->
					<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
					  <div class="modal-dialog">
					    <div class="modal-content">
					      <div class="modal-header">
					        <h5 class="modal-title" id="exampleModalLabel">Save your changes before! </h5>
					        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					      </div>
					      
					      <div class="modal-footer">
					        <button type="button" class="btn btn-secondary my-popup-btn-1" data-bs-dismiss="modal">Cancel</button>
					        
				       		<a th:href="@{/profile/changePassword/{userId}(userId=${user.id})}">
				       			
					        	<button type="button" class="btn btn-primary my-popup-btn-2">Continue without save</button>	
					        </a>
					        <!-- /profile/saveAndChangePassword/{userId}(userId=${user.id}) -->
					        <a th:href="@{#}">
				       			<input class="my-blocks form-control" type="hidden"  name="userId" id="userId" th:field="*{id}" />
					        	<button type="button" class="btn btn-primary my-popup-btn-2" id="saveAndContinueBtn">Save & continue</button>	
					        </a> 
					        
					      </div>
					    </div>
					  </div>
					</div>
                   
                    <div class="form-group pp p-5">
                        <input class="upload-input" type="file" id="formFileSm" name="file">
                        <p class="upload-msg">Drag your image here or click in this area.</p>
                    </div>
                    <div class="form-group py-2 d-flex justify-content-center">
                        <input  type="submit" name="btnSubmit" class="btnContact px-5 py-2" value="Update" />
                    </div>

                </div>

            </div>
		</form>
    </div>
    <!-- MDB -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.3.0/mdb.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script type="text/javascript" th:src="@{/js/profile.js}"></script>
</body>
</html>